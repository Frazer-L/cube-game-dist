import{S as e,a as t,C as o,W as n,V as l,A as s,D as c,B as i,M as r,b as a,c as m,d,R as u}from"./vendor.25ba86b8.js";let g=new e;document.body.appendChild(g.dom);const f=new l;document.addEventListener("mousemove",(function(e){e.preventDefault(),f.x=e.clientX/window.innerWidth*2-1,f.y=-e.clientY/window.innerHeight*2+1})),window.addEventListener("resize",(function(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)}));const h=new t,y=new o(75,window.innerWidth/window.innerHeight,1,1e3);y.setLens(15),y.position.set(2,1,500);const p=new n({canvas:document.querySelector("#bg")});p.setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),y.position.setZ(30),y.position.setX(-3),p.render(h,y);let b,w,I,x,E={theme1:{matColor:"0xffffff",emiColor:"0xff0000",bgColor:"0xf0f0f0",wireframe:!1,cubesNeededToUnlock:0},theme2:{matColor:"0x00ffff",emiColor:"0xff0000",bgColor:"0xf0f0f0",ambientLight:"0xffffff",wireframe:!1,cubesNeededToUnlock:500},theme3:{matColor:"0x000000",emiColor:"0xff0000",bgColor:"0xf0f0f0",ambientLight:"0xffffff",wireframe:!1,cubesNeededToUnlock:1500},theme4:{matColor:"0xffffff",emiColor:"0xff0000",bgColor:"0xf0f0f0",ambientLight:"0xffffff",wireframe:!0,cubesNeededToUnlock:5e3},theme5:{matColor:"0xFFF033",emiColor:"0xFFF033",bgColor:"0x000000",ambientLight:"0x0000ff",wireframe:!1,cubesNeededToUnlock:1e4},theme6:{matColor:"0xffffff",emiColor:"0xffffff",bgColor:"0xf0f0f0",ambientLight:"0xffffff",wireframe:!1,cubesNeededToUnlock:25e3}};localStorage.getItem("theme")||localStorage.setItem("theme","theme1"),localStorage.getItem("cubeTotal")||localStorage.setItem("cubeTotal",0);let k=localStorage.getItem("theme")||"theme1",B=parseInt(localStorage.getItem("cubeTotal"),10);function C(){B=parseInt(localStorage.getItem("cubeTotal"),10),Object.keys(E).forEach((e=>{var t;E[e].cubesNeededToUnlock<=B&&(t=e,document.getElementById(t).style.display="block")}))}sessionStorage.setItem("showGuide",!0);let S=E.theme6.cubesNeededToUnlock;function T(){h.add(new s(k.ambientLight,.3));const e=new c(16777215,.35);e.position.set(1,1,1).normalize(),h.add(e),k=localStorage.getItem("theme")||"theme1",B=parseInt(localStorage.getItem("cubeTotal"),10),C(),B=parseInt(localStorage.getItem("cubeTotal"),10),B>=E.theme6.cubesNeededToUnlock?S="All themes unlocked!":Object.keys(E).forEach((e=>{S>E[e].cubesNeededToUnlock&&E[e].cubesNeededToUnlock>B&&(S=E[e].cubesNeededToUnlock)})),document.getElementById("cubesUntilNextThemeUnlock").innerHTML="All themes unlocked!"==S?S:`Next theme unlocked ${B}/${S}`;const t=new i(20,20,20),o=E[k].matColor,n=E[k].wireframe;for(let l=0;l<1500;l++){const e=new r(t,new a({color:Math.random()*o,wireframe:n}));e.position.x=800*Math.random()-400,e.position.y=800*Math.random()-400,e.position.z=800*Math.random()-400,h.add(e)}h.background=new m(k.bgColor),b=0,document.getElementById("score").innerText=b,w=!1,I=!1,x=sessionStorage.getItem("showGuide"),document.getElementById("guide-text").style.display="true"==x?"inline":"none",document.getElementById("game-over-header").style.display="none",document.getElementById("start-header").style.display="inline-block",document.getElementById("start-header").onmouseover=function(){document.getElementById("start-header").style.borderRadius="25px 0 25px 25px",document.getElementById("close").style.display="inline"},document.getElementById("start-header").onmouseout=function(){document.getElementById("start-header").style.borderRadius="25px",document.getElementById("close").style.display="none"},document.getElementById("close").onclick=function(e){document.getElementById("start-header").style.display="none",e.stopPropagation()},document.onclick=j}T();let v,N,L=0;v=new u;let z,H,U,M=Date.now();const F={focalLength:15,fstop:22,maxblur:0,showFocus:!1,focalDepth:3};function j(){document.getElementById("score-header").style.display="inline-block",document.getElementById("start-header").style.display="none",b=0,I||(w=!0),document.onclick=null}let D;function R(e){return e>=150?'<img src="./icons/diamond.png" class="score-icon"></img>':e>=100?'<img src="./icons/gold.png" class="score-icon"></img>':e>=50?'<img src="./icons/silver.png" class="score-icon"></img>':e>=25?'<img src="./icons/bronze.png" class="score-icon"></img>':""}function W(e){return e>=25?"&nbsp&nbsp&nbsp":""}function A(){k=localStorage.getItem("theme");for(let e=0;e<document.getElementsByClassName("xyz").length;e++)document.getElementsByClassName("xyz")[e].style.backgroundColor=null,document.getElementsByClassName("xyz")[e].style.color="grey",document.getElementsByClassName("xyz")[e].onmouseover=function(e){e.target.style.color="white"},document.getElementsByClassName("xyz")[e].onmouseout=function(e){e.target.style.color=""};document.getElementById(k).style.backgroundColor="#157392",document.getElementById(k).style.color="white",document.getElementById(k).onmouseout=function(e){e.target.style.color="white"},document.getElementById(k).style.color="white"}function P(e){document.getElementById(e).onclick=function(){!function(e){localStorage.setItem("theme",e)}(e),A(),_(),event.stopPropagation()}}function _(){h.clear(),T()}!function(){for(const e in F)e in y.postprocessing.bokeh_uniforms&&(y.postprocessing.bokeh_uniforms[e].value=F[e]);y.postprocessing.bokeh_uniforms.znear.value=y.near,y.postprocessing.bokeh_uniforms.zfar.value=y.far,y.setLens(F.focalLength,y.frameHeight,F.fstop,y.coc),F.focalDepth=y.postprocessing.bokeh_uniforms.focalDepth.value}(),function e(){z=1e3/(Date.now()-M),M=Date.now(),H=z,requestAnimationFrame(e),g.update(),U=144/H,w&&(L+=.02*U),y.position.x=200*Math.sin(d.degToRad(L)),y.position.y=200*Math.sin(d.degToRad(L)),y.position.z=200*Math.cos(d.degToRad(L)),y.lookAt(h.position),v.setFromCamera(f,y);const t=v.intersectObjects(h.children);w&&(t.length>0?N!=t[0].object&&(w||N&&N.material.emissive.setHex(N.currentHex),N=t[0].object,N.material.emissive.getHex()!=E[k].emiColor&&w&&(b+=1,document.getElementById("score").innerText=b),N.material.emissive.setHex(E[k].emiColor)):(!function(){localStorage.getItem("cubeTotal")?(B=parseInt(localStorage.getItem("cubeTotal"),10),localStorage.setItem("cubeTotal",B+b)):localStorage.setItem("cubeTotal",b);D=localStorage.getItem("highScore"),b>D&&localStorage.setItem("highScore",b);document.getElementById("game-over-header").style.display="inline-block",document.getElementById("your-score").innerHTML=`Your Score: ${b}`+W(b)+R(b),document.getElementById("your-high-score").innerHTML=`Your High Score:  ${localStorage.getItem("highScore")}`+W(D)+R(localStorage.getItem("highScore")),document.onclick=_,sessionStorage.setItem("showGuide",!1)}(),I=!0,w=!1,document.getElementById("score").innerText=b,N=null)),y.postprocessing.enabled?y.renderCinematic(h,p):(h.overrideMaterial=null,p.clear(),p.render(h,y))}(),document.onclick=j,document.getElementById("dropdown").onmouseover=function(){document.getElementById("dropdown-content").style.display="block"},document.getElementById("dropdown").onmouseout=function(){document.getElementById("dropdown-content").style.display="none"},A(),Object.keys(E).forEach((e=>P(e)));
